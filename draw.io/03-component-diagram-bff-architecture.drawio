<?xml version='1.0' encoding='utf-8'?>
<mxfile host="Electron" modified="2024-02-18T00:00:00.000Z" agent="Claude Code" etag="basic" version="24.1.0" type="device">
  <diagram id="component-diagram-bff" name="BFF Component Architecture">
    <mxGraphModel dx="30" dy="20" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1660" pageHeight="970" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        
        <mxCell id="title" value="BFF - Backend-For-Frontend Component Architecture (NestJS)" style="text;html=1;fontSize=18;fontStyle=1;textAnchor=middle;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="0" y="10" width="1600" height="40" as="geometry" />
        </mxCell>

        
        <mxCell id="ext-react" value="React App" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d4e6f1;strokeColor=#2874a6;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="ext-sfcc" value="SFCC Backend" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f5b7b1;strokeColor=#922b21;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="1450" y="100" width="120" height="80" as="geometry" />
        </mxCell>

        
        <mxCell id="api-layer" value="API Layer" style="rectangle;html=1;fillColor=#ecf0f1;strokeColor=#34495e;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="80" width="1100" height="150" as="geometry" />
        </mxCell>

        <mxCell id="api-gateway" value="API Gateway&#10;(Express)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#aed6f1;strokeColor=#1f618d;" vertex="1" parent="1">
          <mxGeometry x="350" y="100" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="swagger" value="Swagger&#10;API Docs" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#aed6f1;strokeColor=#1f618d;" vertex="1" parent="1">
          <mxGeometry x="500" y="100" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="validation" value="Validation Pipe&#10;(class-validator)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#aed6f1;strokeColor=#1f618d;" vertex="1" parent="1">
          <mxGeometry x="650" y="100" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="auth-guard" value="Auth Guard&#10;(SLAS)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#aed6f1;strokeColor:#1f618d;" vertex="1" parent="1">
          <mxGeometry x="800" y="100" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="logging" value="Logging&#10;(Pino HTTP)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#aed6f1;strokeColor:#1f618d;" vertex="1" parent="1">
          <mxGeometry x="950" y="100" width="100" height="80" as="geometry" />
        </mxCell>

        <mxCell id="caching" value="Caching Layer&#10;(cache-manager)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#aed6f1;strokeColor=#1f618d;" vertex="1" parent="1">
          <mxGeometry x="1100" y="100" width="100" height="80" as="geometry" />
        </mxCell>

        
        <mxCell id="core-layer" value="Core Business Logic (Domain Modules)" style="rectangle;html=1;fillColor=#ecf0f1;strokeColor=#27ae60;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="300" width="700" height="220" as="geometry" />
        </mxCell>

        <mxCell id="core-baskets" value="Baskets Module&#10;(Shopping Cart)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor=#186a3b;" vertex="1" parent="1">
          <mxGeometry x="80" y="330" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="core-customers" value="Customers Module&#10;(User Accounts)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor=#186a3b;" vertex="1" parent="1">
          <mxGeometry x="230" y="330" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="core-products" value="Products Module&#10;(Catalog)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="380" y="330" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="core-orders" value="Orders Module&#10;(Order Mgmt)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="530" y="330" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="core-categories" value="Categories Module" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="80" y="440" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="core-content" value="Content Module" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="230" y="440" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="core-stores" value="Stores Module&#10;(Store Locator)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="380" y="440" width="120" height="80" as="geometry" />
        </mxCell>

        <mxCell id="core-health" value="Health Module" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="530" y="440" width="120" height="80" as="geometry" />
        </mxCell>

        
        <mxCell id="integration-layer" value="Integration Modules (47+ Services)" style="rectangle;html=1;fillColor=#ecf0f1;strokeColor=#e74c3c;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="800" y="300" width="750" height="220" as="geometry" />
        </mxCell>

        
        <mxCell id="int-bloomreach" value="Bloomreach" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor=#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="830" y="330" width="80" height="60" as="geometry" />
        </mxCell>

        
        <mxCell id="int-emarsys" value="Emarsys" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor=#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="930" y="330" width="80" height="60" as="geometry" />
        </mxCell>

        <mxCell id="int-rio" value="Rio SEO" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor=#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1030" y="330" width="80" height="60" as="geometry" />
        </mxCell>

        <mxCell id="int-turnto" value="TurnTo" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor=#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1130" y="330" width="80" height="60" as="geometry" />
        </mxCell>

        
        <mxCell id="int-afterpay" value="Afterpay" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor=#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1230" y="330" width="80" height="60" as="geometry" />
        </mxCell>

        
        <mxCell id="int-ups" value="UPS" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor=#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="830" y="410" width="80" height="60" as="geometry" />
        </mxCell>

        <mxCell id="int-fedex" value="FedEx" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor:#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="930" y="410" width="80" height="60" as="geometry" />
        </mxCell>

        
        <mxCell id="int-golocal" value="Go-Local&#10;(Walmart)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor=#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1030" y="410" width="80" height="60" as="geometry" />
        </mxCell>

        
        <mxCell id="int-bopis" value="BOPIS" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor:#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1130" y="410" width="80" height="60" as="geometry" />
        </mxCell>

        <mxCell id="int-radar" value="Radar" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#f4d6a6;strokeColor:#a97000;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1230" y="410" width="80" height="60" as="geometry" />
        </mxCell>

        
        <mxCell id="more-services" value="+ Gift Cards, Registries, Taxes,&#10;Recaptcha, SVS, Webhooks, etc." style="text;html=1;fontSize=9;align=center;" vertex="1" parent="1">
          <mxGeometry x="830" y="480" width="480" height="30" as="geometry" />
        </mxCell>

        
        <mxCell id="infra-layer" value="Infrastructure &amp; Utilities" style="rectangle;html=1;fillColor=#ecf0f1;strokeColor=#8e44ad;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="600" width="1500" height="140" as="geometry" />
        </mxCell>

        <mxCell id="infra-config" value="Config Service&#10;(AWS SSM)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="80" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-commerce" value="Commerce SDK&#10;Service" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor=#644d75;" vertex="1" parent="1">
          <mxGeometry x="220" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-bridge" value="Bridge Service&#10;(Config)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="360" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-utils" value="Error Handling&#10;&amp; Utils" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="500" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-http" value="HTTP Client&#10;(Axios)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="640" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-cache" value="Redis/Cache" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="780" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-logger" value="Logger&#10;(Pino)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="920" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-database" value="Database" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="1060" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        <mxCell id="infra-admin" value="Admin Module" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#d2a2c9;strokeColor:#644d75;" vertex="1" parent="1">
          <mxGeometry x="1200" y="625" width="110" height="80" as="geometry" />
        </mxCell>

        
        <mxCell id="deploy-layer" value="Deployment Options" style="rectangle;html=1;fillColor=#ecf0f1;strokeColor=#16a085;strokeWidth=2;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="820" width="1500" height="100" as="geometry" />
        </mxCell>

        <mxCell id="deploy-nodejs" value="Node.js Server&#10;(Express)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#85c1e2;strokeColor=#1a5276;" vertex="1" parent="1">
          <mxGeometry x="200" y="850" width="120" height="60" as="geometry" />
        </mxCell>

        <mxCell id="deploy-lambda" value="AWS Lambda&#10;(Serverless)" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#85c1e2;strokeColor:#1a5276;" vertex="1" parent="1">
          <mxGeometry x="450" y="850" width="120" height="60" as="geometry" />
        </mxCell>

        <mxCell id="deploy-docker" value="Docker&#10;Container" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#85c1e2;strokeColor:#1a5276;" vertex="1" parent="1">
          <mxGeometry x="700" y="850" width="120" height="60" as="geometry" />
        </mxCell>

        <mxCell id="deploy-managed" value="Salesforce&#10;Managed Runtime" style="shape=component;align=center;spacingTop=5;html=1;fillColor=#85c1e2;strokeColor:#1a5276;" vertex="1" parent="1">
          <mxGeometry x="950" y="850" width="120" height="60" as="geometry" />
        </mxCell>

        
        <mxCell id="conn-react-api" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="ext-react" target="api-gateway" />
        <mxCell id="conn-api-core" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="api-gateway" target="core-baskets" />
        <mxCell id="conn-api-int" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="api-gateway" target="int-bloomreach" />
        <mxCell id="conn-core-int" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="core-baskets" target="int-afterpay" />
        <mxCell id="conn-core-infra" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="core-products" target="infra-commerce" />
        <mxCell id="conn-int-http" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="int-bloomreach" target="infra-http" />
        <mxCell id="conn-infra-sfcc" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="infra-commerce" target="ext-sfcc" />

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>