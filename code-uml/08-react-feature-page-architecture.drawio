<?xml version='1.0' encoding='utf-8'?>
<mxfile host="Electron" modified="2024-02-18T00:00:00.000Z" agent="Claude Code" etag="basic" version="24.1.0" type="device">
  <diagram id="react-feature-structure" name="React App - Feature Page Architecture">
    <mxGraphModel dx="30" dy="20" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1260" pageHeight="940" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        
        <mxCell id="title" value="React PWA - Feature Page Atomic Architecture" style="text;html=1;fontSize=16;fontStyle=1;textAnchor=middle;" vertex="1" parent="1">
          <mxGeometry x="0" y="10" width="1200" height="30" as="geometry" />
        </mxCell>

        
        <mxCell id="feature-structure" value="Feature Folder Structure" style="text;html=1;fontSize=12;fontStyle=1;textAnchor=center;" vertex="1" parent="1">
          <mxGeometry x="50" y="60" width="400" height="30" as="geometry" />
        </mxCell>

        
        <mxCell id="product-page" value="app/pages/product/&#10;├── ProductPage.tsx  (Page component)&#10;├── ProductPage.module.scss&#10;├── ProductPage.spec.tsx&#10;├── components/&#10;│  ├── ProductGallery.tsx&#10;│  ├── ProductDetails.tsx&#10;│  └── ProductReviews.tsx&#10;├── hooks/&#10;│  ├── useProductData.ts&#10;│  └── useProductCart.ts&#10;└── types/&#10;   └── product.types.ts" style="text;html=1;fontSize=9;align=left;verticalAlign=top;fontFamily=monospace;fillColor=#d4e6f1;strokeColor:#2874a6;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="100" width="400" height="250" as="geometry" />
        </mxCell>

        
        <mxCell id="hierarchy-title" value="Component Hierarchy" style="text;html=1;fontSize=12;fontStyle=1;textAnchor=center;" vertex="1" parent="1">
          <mxGeometry x="700" y="60" width="400" height="30" as="geometry" />
        </mxCell>

        <mxCell id="product-comp" value="ProductPage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#aed6f1;strokeColor:#1f618d;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="750" y="100" width="150" height="50" as="geometry" />
        </mxCell>

        <mxCell id="gallery-comp" value="ProductGallery" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="600" y="180" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="details-comp" value="ProductDetails" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="750" y="180" width="130" height="50" as="geometry" />
        </mxCell>

        <mxCell id="reviews-comp" value="ProductReviews" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a9dfbf;strokeColor:#186a3b;" vertex="1" parent="1">
          <mxGeometry x="900" y="180" width="130" height="50" as="geometry" />
        </mxCell>

        
        <mxCell id="conn1" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="product-comp" target="gallery-comp" />
        <mxCell id="conn2" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="product-comp" target="details-comp" />
        <mxCell id="conn3" value="" style="endArrow=classic;html=1;" edge="1" parent="1" source="product-comp" target="reviews-comp" />

        
        <mxCell id="state-title" value="State Management Pattern" style="text;html=1;fontSize=12;fontStyle=1;textAnchor=center;" vertex="1" parent="1">
          <mxGeometry x="50" y="400" width="500" height="30" as="geometry" />
        </mxCell>

        <mxCell id="state-box" value="State Management Layers&#10;&#10;1. Local Component State&#10;   - React useState for UI state&#10;&#10;2. React Query (TanStack)&#10;   - Server state (product data)&#10;   - Caching with 5-10min TTL&#10;   - Auto refetching on stale&#10;&#10;3. Context API&#10;   - User authentication state&#10;   - Cart/basket data&#10;   - Theme &amp; localization&#10;&#10;4. Custom Hooks&#10;   - useProductData() → BFF API call&#10;   - useCartMutations() → Add/remove items&#10;   - useAuth() → Session management" style="text;html=1;fontSize=9;align=left;verticalAlign=top;fillColor=#ecf0f1;strokeColor=#34495e;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="50" y="440" width="500" height="240" as="geometry" />
        </mxCell>

        
        <mxCell id="dataflow-title" value="Data Flow &amp; BFF Integration" style="text;html=1;fontSize=12;fontStyle=1;textAnchor=center;" vertex="1" parent="1">
          <mxGeometry x="650" y="400" width="500" height="30" as="geometry" />
        </mxCell>

        <mxCell id="dataflow-box" value="Data Flow Path&#10;&#10;1. Component Mount&#10;   ProductPage loads useProductData()&#10;   ↓&#10;2. HTTP Request&#10;   GET /api/products/{id}&#10;   ↓&#10;3. BFF Processing&#10;   Cache check → External APIs&#10;   ↓&#10;4. React Query Cache&#10;   Store response, set TTL&#10;   ↓&#10;5. Update UI&#10;   Component re-renders with data&#10;   ↓&#10;6. User Interaction&#10;   Click handlers trigger mutations&#10;   POST/PUT requests to BFF&#10;   ↓&#10;7. Optimistic Update&#10;   UI updates before server response" style="text;html=1;fontSize=9;align=left;verticalAlign=top;fontFamily=monospace;fillColor=#d5f4e6;strokeColor:#27ae60;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="440" width="500" height="240" as="geometry" />
        </mxCell>

        
        <mxCell id="patterns" value="Key Architectural Patterns Used" style="text;html=1;fontSize=11;fontStyle=1;textAnchor=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="710" width="200" height="25" as="geometry" />
        </mxCell>

        <mxCell id="patterns-content" value="• Atomic Components (Chakra UI)&#10;• Custom React Hooks for logic&#10;• React Query for server state&#10;• Error Boundaries for crash handling&#10;• Suspense for async loading&#10;• Code splitting per page&#10;• SSR for SEO &amp; performance&#10;• Progressive Enhancement (PWA)" style="text;html=1;fontSize=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="740" width="300" height="150" as="geometry" />
        </mxCell>

        
        <mxCell id="testing" value="Testing Strategy" style="text;html=1;fontSize=11;fontStyle=1;textAnchor=left;" vertex="1" parent="1">
          <mxGeometry x="650" y="710" width="200" height="25" as="geometry" />
        </mxCell>

        <mxCell id="testing-content" value="• Unit Tests (Jest)&#10;• Component Tests (RTL)&#10;• Integration Tests&#10;• E2E Tests&#10;• Visual Regression&#10;• Lighthouse Performance&#10;• Accessibility (a11y)&#10;• Storybook Documentation" style="text;html=1;fontSize=10;align=left;" vertex="1" parent="1">
          <mxGeometry x="650" y="740" width="300" height="150" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>