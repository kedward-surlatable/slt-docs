<mxfile host="app.diagrams.net" modified="2026-02-25T00:00:00.000Z" agent="Claude Code" version="21.0.0" type="device">
  <diagram id="config-deploy" name="Configuration &amp; Deployment">
    <mxGraphModel dx="1422" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Configuration &amp; Deployment Workflow" style="text;html=1;fontSize=24;fontStyle=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="350" y="20" width="600" height="40" as="geometry" />
        </mxCell>

        <!-- Environment Promotion Pipeline -->
        <mxCell id="section1" value="Environment Promotion Pipeline" style="text;html=1;fontSize=16;fontStyle=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="350" height="30" as="geometry" />
        </mxCell>

        <mxCell id="env-dev" value="Development" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="130" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="env-staging" value="Staging" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="130" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="env-staging-test" value="Staging Test" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="460" y="130" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="env-prod-test" value="Production Test" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="660" y="130" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="env-prod" value="Production" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="130" width="120" height="40" as="geometry" />
        </mxCell>

        <mxCell id="ep1" style="rounded=1;" edge="1" parent="1" source="env-dev" target="env-staging">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ep2" style="rounded=1;" edge="1" parent="1" source="env-staging" target="env-staging-test">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ep3" style="rounded=1;" edge="1" parent="1" source="env-staging-test" target="env-prod-test">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ep4" style="rounded=1;" edge="1" parent="1" source="env-prod-test" target="env-prod">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Config Files -->
        <mxCell id="config-files" value="Config Files per Environment" style="swimlane;startSize=25;fillColor=#f5f5f5;strokeColor=#666666;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="200" width="300" height="180" as="geometry" />
        </mxCell>
        <mxCell id="cf1" value="system_objects.xml  (custom attributes)" style="text;html=1;fontSize=11;align=left;" vertex="1" parent="config-files">
          <mxGeometry x="10" y="35" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cf2" value="custom_objects.xml  (object definitions)" style="text;html=1;fontSize=11;align=left;" vertex="1" parent="config-files">
          <mxGeometry x="10" y="60" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cf3" value="ocapi-shop-global.json  (Shop API perms)" style="text;html=1;fontSize=11;align=left;" vertex="1" parent="config-files">
          <mxGeometry x="10" y="85" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cf4" value="ocapi-data-global.json  (Data API perms)" style="text;html=1;fontSize=11;align=left;" vertex="1" parent="config-files">
          <mxGeometry x="10" y="110" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="cf5" value="pwa_mrtrules.json  (CDN routing rules)" style="text;html=1;fontSize=11;align=left;" vertex="1" parent="config-files">
          <mxGeometry x="10" y="135" width="280" height="20" as="geometry" />
        </mxCell>

        <!-- Four Deployment Lanes -->
        <mxCell id="section2" value="Component Deployment Targets" style="text;html=1;fontSize=16;fontStyle=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="40" y="420" width="350" height="30" as="geometry" />
        </mxCell>

        <!-- React PWA -->
        <mxCell id="deploy-react" value="slt-sfcc-react" style="swimlane;startSize=25;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="470" width="320" height="260" as="geometry" />
        </mxCell>
        <mxCell id="dr1" value="npm run dev:init" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="deploy-react">
          <mxGeometry x="10" y="35" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dr2" value="npm run test" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="deploy-react">
          <mxGeometry x="10" y="75" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dr3" value="npm run build" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="deploy-react">
          <mxGeometry x="10" y="115" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dr4" value="npm run push" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=1;" vertex="1" parent="deploy-react">
          <mxGeometry x="10" y="155" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dr5" value="Salesforce&#xa;Managed Runtime&#xa;+ CloudFlare CDN" style="shape=cloud;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;" vertex="1" parent="deploy-react">
          <mxGeometry x="160" y="100" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dr-lh" value="Lighthouse audit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="deploy-react">
          <mxGeometry x="10" y="200" width="130" height="30" as="geometry" />
        </mxCell>

        <mxCell id="dra1" style="rounded=1;" edge="1" parent="deploy-react" source="dr1" target="dr2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dra2" style="rounded=1;" edge="1" parent="deploy-react" source="dr2" target="dr3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dra3" style="rounded=1;" edge="1" parent="deploy-react" source="dr3" target="dr4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dra4" style="rounded=1;" edge="1" parent="deploy-react" source="dr4" target="dr5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- BFF -->
        <mxCell id="deploy-bff" value="slt-sfcc-bff" style="swimlane;startSize=25;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="470" width="320" height="260" as="geometry" />
        </mxCell>
        <mxCell id="db1" value="npm install" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="deploy-bff">
          <mxGeometry x="10" y="35" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="db2" value="npm run test" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="deploy-bff">
          <mxGeometry x="10" y="75" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="db3a" value="npm run build" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="deploy-bff">
          <mxGeometry x="10" y="115" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="db3b" value="build-lambda" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="deploy-bff">
          <mxGeometry x="10" y="148" width="100" height="25" as="geometry" />
        </mxCell>
        <mxCell id="db4a" value="Node.js&#xa;Service" style="shape=cloud;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="deploy-bff">
          <mxGeometry x="160" y="80" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="db4b" value="AWS&#xa;Lambda" style="shape=cloud;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="deploy-bff">
          <mxGeometry x="160" y="145" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="db-ssm" value="AWS SSM&#xa;Parameter Store" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=10;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" vertex="1" parent="deploy-bff">
          <mxGeometry x="180" y="205" width="100" height="45" as="geometry" />
        </mxCell>

        <mxCell id="dba1" style="rounded=1;" edge="1" parent="deploy-bff" source="db1" target="db2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dba2" style="rounded=1;" edge="1" parent="deploy-bff" source="db3a" target="db4a">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dba3" style="rounded=1;" edge="1" parent="deploy-bff" source="db3b" target="db4b">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- SFCC -->
        <mxCell id="deploy-sfcc" value="slt-sfcc" style="swimlane;startSize=25;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="760" y="470" width="320" height="260" as="geometry" />
        </mxCell>
        <mxCell id="ds1" value="npm run build&#xa;(Gulp + JS/CSS)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="deploy-sfcc">
          <mxGeometry x="10" y="35" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ds2" value="npm run test:unit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="deploy-sfcc">
          <mxGeometry x="10" y="85" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ds3" value="WebDAV Upload" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;fontStyle=1;" vertex="1" parent="deploy-sfcc">
          <mxGeometry x="10" y="125" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ds4" value="SFCC&#xa;Instance" style="shape=cloud;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="deploy-sfcc">
          <mxGeometry x="170" y="60" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ds5" value="Configure cartridge&#xa;path in BM" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="deploy-sfcc">
          <mxGeometry x="10" y="170" width="130" height="35" as="geometry" />
        </mxCell>
        <mxCell id="ds6" value="Data Replication&#xa;(cross-env)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="deploy-sfcc">
          <mxGeometry x="10" y="215" width="130" height="35" as="geometry" />
        </mxCell>

        <mxCell id="dsa1" style="rounded=1;" edge="1" parent="deploy-sfcc" source="ds1" target="ds2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dsa2" style="rounded=1;" edge="1" parent="deploy-sfcc" source="ds2" target="ds3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dsa3" style="rounded=1;" edge="1" parent="deploy-sfcc" source="ds3" target="ds4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Configs -->
        <mxCell id="deploy-config" value="slt-sfcc-configs" style="swimlane;startSize=25;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="470" width="280" height="260" as="geometry" />
        </mxCell>
        <mxCell id="dc1" value="Create feature branch&#xa;SLTBE-[TICKET]/desc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="deploy-config">
          <mxGeometry x="10" y="35" width="170" height="35" as="geometry" />
        </mxCell>
        <mxCell id="dc2" value="Edit XML/JSON configs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="deploy-config">
          <mxGeometry x="10" y="80" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dc3" value="Create PR&#xa;(CODEOWNERS review)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="deploy-config">
          <mxGeometry x="10" y="120" width="170" height="35" as="geometry" />
        </mxCell>
        <mxCell id="dc4" value="Merge &amp; Import to SFCC&#xa;BM > Import/Export" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;" vertex="1" parent="deploy-config">
          <mxGeometry x="10" y="165" width="170" height="35" as="geometry" />
        </mxCell>
        <mxCell id="dc5" value="MRT Rules: Commerce&#xa;API updateMrtRuleset" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" vertex="1" parent="deploy-config">
          <mxGeometry x="10" y="215" width="170" height="35" as="geometry" />
        </mxCell>

        <mxCell id="dca1" style="rounded=1;" edge="1" parent="deploy-config" source="dc1" target="dc2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dca2" style="rounded=1;" edge="1" parent="deploy-config" source="dc2" target="dc3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dca3" style="rounded=1;" edge="1" parent="deploy-config" source="dc3" target="dc4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Git Workflow -->
        <mxCell id="git-note" value="Git Workflow:&#xa;1. Branch from main (SLTBE-[TICKET]/desc)&#xa;2. Commit with Jira key prefix&#xa;3. PR with CODEOWNERS auto-review&#xa;4. Validate: XML well-formed, JSON valid&#xa;5. No credentials committed&#xa;6. Merge and deploy" style="shape=note;size=15;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;align=left;spacingLeft=5;" vertex="1" parent="1">
          <mxGeometry x="420" y="200" width="250" height="120" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
